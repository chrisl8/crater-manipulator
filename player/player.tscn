[gd_scene load_steps=11 format=3 uid="uid://cnckqfxi8eyk8"]

[ext_resource type="Script" path="res://player/PlayerController.gd" id="1_ntq5g"]
[ext_resource type="Texture2D" uid="uid://rtlda15irjtr" path="res://Items/PlayerBox.png" id="3_8dug6"]
[ext_resource type="Texture2D" uid="uid://bwi88dcimnyfh" path="res://Items/Box.png" id="3_h2rqs"]
[ext_resource type="Script" path="res://player/PlayerInteractionController.gd" id="4_rfuvf"]

[sub_resource type="GDScript" id="1"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_qk016"]
friction = 0.0
script = SubResource("1")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4uxh2"]
size = Vector2(32, 64)

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_ir062"]
properties/0/path = NodePath(".:linear_velocity")
properties/0/spawn = true
properties/0/replication_mode = 2
properties/1/path = NodePath(".:angular_velocity")
properties/1/spawn = true
properties/1/replication_mode = 2
properties/2/path = NodePath(".:player")
properties/2/spawn = true
properties/2/replication_mode = 0
properties/3/path = NodePath(".:SyncedPosition")
properties/3/spawn = true
properties/3/replication_mode = 1
properties/4/path = NodePath(".:SyncedRotation")
properties/4/spawn = true
properties/4/replication_mode = 1
properties/5/path = NodePath("Interaction Controller:ArmRotation")
properties/5/spawn = true
properties/5/replication_mode = 2

[sub_resource type="QuadMesh" id="QuadMesh_37pga"]

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_vd1d2"]
particle_flag_align_y = true
particle_flag_rotate_y = true
particle_flag_disable_z = true
emission_shape_offset = Vector3(100, 0, 0)
emission_shape = 3
emission_box_extents = Vector3(100, 10, 1)
gravity = Vector3(0, 0, 0)

[node name="Player" type="RigidBody2D" groups=["players"]]
collision_layer = 2
collision_mask = 11
physics_material_override = SubResource("PhysicsMaterial_qk016")
can_sleep = false
lock_rotation = true
freeze_mode = 1
continuous_cd = 1
max_contacts_reported = 5
contact_monitor = true
linear_damp = 0.1
angular_damp = 0.5
script = ExtResource("1_ntq5g")
player_spawn_point = Vector2(0, 0)

[node name="Collision" type="CollisionShape2D" parent="."]
position = Vector2(0, -32)
shape = SubResource("RectangleShape2D_4uxh2")

[node name="PlayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_ir062")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(0, -31.37)

[node name="Box" type="Sprite2D" parent="."]
position = Vector2(0, -32)
texture = ExtResource("3_8dug6")

[node name="Box2" type="Sprite2D" parent="."]
visible = false
position = Vector2(0, -50)
scale = Vector2(0.25, 0.25)
texture = ExtResource("3_h2rqs")

[node name="Interaction Controller" type="Node2D" parent="." node_paths=PackedStringArray("Arm")]
script = ExtResource("4_rfuvf")
Arm = NodePath("../Arm")

[node name="Arm" type="Node2D" parent="."]
position = Vector2(-26, -39)

[node name="MeshInstance2D" type="MeshInstance2D" parent="Arm"]
position = Vector2(15, 0)
scale = Vector2(30, 10)
mesh = SubResource("QuadMesh_37pga")

[node name="GPUParticles2D" type="GPUParticles2D" parent="Arm"]
position = Vector2(-82, -76)
rotation = 2.55051
emitting = false
amount = 100
process_material = SubResource("ParticleProcessMaterial_vd1d2")
lifetime = 0.5
collision_base_size = 0.0
